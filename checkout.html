<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh Toán</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Thanh Toán</h1>
        <div class="cart-icon" onclick="toggleCart()">
            Giỏ hàng (<span id="cart-count">0</span>)
        </div>
    </header>

    <main>
        <h2>Thông Tin Đặt Hàng</h2>
        <div id="checkout-list"></div>
        <button onclick="placeOrder()">Đặt Hàng</button>
        <button onclick="window.history.back()">Trở Lại</button>
    </main>

    <div id="cart-popup" class="cart-popup">
        <h3>Giỏ Hàng</h3>
        <div id="cart-list"></div>
        <button onclick="checkout()">Thanh Toán</button>
        <button onclick="toggleCart()">Đóng</button>
    </div>

    <script src="cart.js"></script>
    <script>
        // Hiển thị sản phẩm trong giỏ hàng
        function displayCheckout() {
            const checkoutList = document.getElementById('checkout-list');
            checkoutList.innerHTML = ''; // Xóa nội dung cũ

            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (cart.length === 0) {
                checkoutList.innerHTML = '<p>Giỏ hàng trống!</p>';
                return;
            }

            cart.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.innerHTML = `
                    <h4>${item.name}</h4>
                    <p>Giá: ${item.price} VNĐ</p>
                    <p>Số lượng: ${item.quantity}</p>
                `;
                checkoutList.appendChild(itemDiv);
            });
        }

        // Đặt hàng
        function placeOrder() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (cart.length === 0) {
                alert('Giỏ hàng trống!');
                return;
            }

            // Xử lý đặt hàng ở đây (có thể gửi thông tin đến server)
            alert('Đặt hàng thành công!');
            localStorage.removeItem('cart'); // Xóa giỏ hàng sau khi đặt
            window.location.href = 'index.html'; // Quay về trang chính
        }

        // Gọi hàm hiển thị sản phẩm trong giỏ hàng khi trang được tải
        document.addEventListener('DOMContentLoaded', displayCheckout);
    </script>
</body>
</html>
